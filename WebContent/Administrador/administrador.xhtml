<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>

	<title><h:outputText value="Administrador" /></title>

	<style type="text/css">
body {
	background-image: url('../img/captura3.jpg');
	background-position: center center;
	background-repeat: no-repeat;
	background-attachment: fixed;
	background-size: cover;
}

#mail {
	width: 100%;
	position: fixed;
}

.tabla2 {
	border: solid 7px #4371CD;
	border-radius: 30px;
	background: rgba(131, 149, 183, 0.7);
}
</style>
</h:head>

<h:body>
	<h:outputLabel value = "NO SE A INICIADO SESIÃ“N COMO ADMINISTRADOR" rendered = "#{userBean.usuario.userType eq ADMIN}"/>

	<h:form rendered="#{userBean.usuario.userType eq ADMIN eq false}">

		<table align="center">

			<tr>
				<td><p:tabView orientation="center" style="text-align:center">

						<p:tab title="Auditoria">

							<p:dataGrid var="auditoria" value="#{auditBean.listarAuditorias}"
								columns="2" layout="grid" rows="6" paginator="true" id="equipo"
								paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
								rowsPerPageTemplate="2,6,10">

								<p:panel header="#{auditoria.operation}"
									style="text-align:center">
									<p:panelGrid columns="2" style="width:100%">

										<p:outputLabel value="ID de la tabla: " />
										<p:outputLabel value="#{auditoria.tableId}" />

										<p:outputLabel value="Nombre de la tabla: " />
										<p:outputLabel value="#{auditoria.tableName}" />

										<p:outputLabel value="ID del usuario: " />
										<p:outputLabel value="#{auditoria.userId}" />

										<p:outputLabel value="Operacion: " />
										<p:outputLabel value="Crear"
											rendered="#{'C' eq auditoria.operation}" />
										<p:outputLabel value="Eliminar"
											rendered="#{'E' eq auditoria.operation}" />

										<p:outputLabel value="Fecha de modificacion: " />
										<p:outputLabel value="#{auditoria.createDate}" />

									</p:panelGrid>


								</p:panel>

							</p:dataGrid>

						</p:tab>

						<p:tab title="Usuarios">

							<p:dataGrid var="usuario" value="#{userBean.listarUsuario}"
								columns="2" layout="grid" rows="6" paginator="true" id="usuario"
								paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
								rowsPerPageTemplate="2,6,10">

								<p:panel header="#{usuario.fullName}" style="text-align:center">
									<p:panelGrid columns="2" style="width:100%">

										<p:outputLabel value="Nombre de usuario: " />
										<p:outputLabel value="#{usuario.userName}" />

										<p:outputLabel value="Telefono: " />
										<p:outputLabel value="#{usuario.phoneNumber}" />

										<p:outputLabel value="Correo: " />
										<p:outputLabel value="#{usuario.emailAddress}" />

										<p:outputLabel value="Tipo de usuario: " />
										<p:outputLabel value="#{usuario.userType}" />

										<p:outputLabel value="Estado: " />
										<p:outputLabel value="Activo"
											rendered="#{'A' eq usuario.active}" />
										<p:outputLabel value="InActivo"
											rendered="#{'I' eq usuario.active}" />

										<p:commandButton action="#{userBean.eliminarUsuario}"
											value="Bloquear" />
										<p:commandButton action="#{userBean.modificarUsuario}"
											value="Desbloquear" />

									</p:panelGrid>
								</p:panel>
							</p:dataGrid>
						</p:tab>
					</p:tabView></td>
					<p:commandButton value="Salir" action="/Principal/inicio" />
			</tr>
		</table>

	</h:form>
</h:body>
</html>