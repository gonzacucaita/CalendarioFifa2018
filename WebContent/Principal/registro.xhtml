<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:botDetect="https://captcha.com/java/jsf/simple-api">

<f:view>
	<h:head>
		<f:loadBundle basename="com.mensajes.principal" var="principal" />
		<title><h:outputText value="#{principal.tituloRegistrar}" /></title>
		<script src="https://www.google.com/recaptcha/api.js" async="defer"></script>
<script>
			function miFuncion() {
			    var response = grecaptcha.getResponse();
			    if(response.length == 0){
			        alert("Primero verifique el captcha");
			        document.getElemenstById("enviar").disabled = true;
			    }
			  }
		</script>
		<style type="text/css">
body {
	background-image: url('../img/fondo2.gif');
	background-position: center center;
	background-repeat: no-repeat;
	background-attachment: fixed;
	background-size: cover;
}

#mail {
	width: 100%;
	position: relative;
}

.tabla2 {
	border: solid 0.5px #ffffff;
	border-radius: 30px;
	background: rgba(255, 255, 255, 0.7);
}

.messa {
	color: rgba(255, 255, 255);
	font-size: 200%;
	font: bolder;
}
</style>
	</h:head>
	<body>
		<h:form>
			<table height="500" width="100%">
				<tr>
					<td valign="middle">
						<table align="center" class="tabla2" width="50%" height="30%">
							<tr>
								<td colspan="2"></td>
							</tr>
							<tr align="center">
								<td colspan="2"><H1>REGISTRO</H1></td>
							</tr>

							<tr align="center">
								<td align="left"><p:outputLabel
										value="#{principal.nombreUsuario}" /></td>
								<td><p:inputText id="focus" onkeyup="miFuncion()"
										title="El usuario debe contener entre 6 a 8 caracteres"
										value="#{userBean.usuario.userName}" required="true">
										
										<f:validateLength minimum="6" maximum="8" />
										
										</p:inputText>
										<p:tooltip id="toolTipFocus" for="focus" showEvent="focus"
											hideEvent="blur" position="right" /></td>
							</tr>

							<tr>
								<td colspan="2"></td>
							</tr>

							<tr align="center">
								<td align="left"><p:outputLabel value="#{principal.nombre}" /></td>
								<td><p:inputText value="#{userBean.usuario.fullName}" onkeyup="miFuncion()"
										rendered="true" required="true">
										<f:validateLength minimum="3" />

									</p:inputText></td>
							</tr>


							<tr align="center">
								<td align="left"><p:outputLabel value="#{principal.email}" /></td>
								<td><p:inputText id="email" required="true" label="email" onkeyup="miFuncion()"
										requiredMessage="Please enter your email address."
										validatorMessage="Ingrese un correo valido"
										title="tiene que ser un gmail valido o no le llegara el correo"
										value="#{userBean.usuario.emailAddress}">

										<f:validateRegex
											pattern="((?=.*[a-z]).{2,})" />

									</p:inputText>
									<p:outputLabel value="@gmail.com" /></td>
							</tr>

							<tr rowspan="2">
								<td colspan="2"><br /></td>
							</tr>
							<tr align="center">
								<td colspan="2"><div class="g-recaptcha"
										data-sitekey="6Ldrx1MUAAAAAOnSl4hnblILEArZ5FDqUZj_iM3K"
										required="true"></div></td>
							</tr>
							<tr rowspan="2">
								<td colspan="2"><br /></td>
							</tr>
						</table>
					</td>
				</tr>
				<tr>
				</tr>
				<tr>
					<td>
						<table align="center">
							<tr>
								<td><p:commandButton value="#{principal.btnRegistrar}"
										action="#{userBean.adicionarUsuario}"
										onclick="PF('bar').show()" /></td>
								<td><p:commandButton value="inicio" action="inicio" immediate="true" /></td>
								
							</tr>
						</table>
					</td>
				</tr>
			</table>

		</h:form>

	</body>
</f:view>
</html>