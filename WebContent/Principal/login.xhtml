<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:botDetect="https://captcha.com/java/jsf/simple-api">

<f:view>
	<h:head>
		<f:loadBundle basename="com.mensajes.principal" var="principal" />
		<title><h:outputText value="#{principal.tituloIngresar}" /></title>
		<script src="https://www.google.com/recaptcha/api.js" async="defer"></script>
		<script>
			function miFuncion() {
			    var response = grecaptcha.getResponse();
			    if(response.length == 0){
			        alert("Primero verifique el captcha");
			        document.getElemenstById("enviar").disabled = true;
			    }
			  }
		</script>
		<style type="text/css">
			body{
				background-image: url('../img/captura3.jpg');
				background-position: center center;	  
				background-repeat: no-repeat;
				background-attachment: fixed;
				background-size: cover;
			}
			#mail {
				width: 100%;
				position: fixed;
			}
			.tabla2{
				border: solid 0.5px #ffffff;
				border-radius: 30px;
				background: rgba(255,255,255,0.7);
			}
		</style>
	</h:head>
	<h:body>
		<h:form>
			<table height="500" width="100%">
				<tr>
					<td valign="middle">
						<table align="center" class="tabla2" width="30%" height="30%">
							<tr><td colspan="2"></td></tr>
							<tr align="center">
								<td colspan="2"><H1>LOGIN</H1></td>
							</tr>
							<tr align="center">
								<td><p:outputLabel value="#{principal.usuario}" /></td>
								<td><p:inputText value="#{userBean.ingresarUsuario}" onkeyup="miFuncion()"/></td>
							</tr>
							<tr><td colspan="2"></td></tr>
							<tr align="center">
								<td><p:outputLabel value="#{principal.contrasenia}" /></td>
								<td><p:password value="#{userBean.contrasenia}" feedback="true"	
							promptLabel="Ingrese una contraseña" weakLabel="La clave es muy debil" 
							goodLabel="La clave es segura"/></td>
							</tr>
							<tr rowspan="2"><td colspan="2"><br/></td></tr>
							<tr align="center">
								<td colspan="2"><div class="g-recaptcha" data-sitekey="6Ldrx1MUAAAAAOnSl4hnblILEArZ5FDqUZj_iM3K"
									rendered="true" required="true"></div></td>
							</tr>
							<tr rowspan="2"><td colspan="2"><br/></td></tr>
						</table>
					</td>
				</tr>
				<tr>
		   				
				</tr>
				<tr><td valign="top">
					<table align="center">
						<tr>
							<td><p:commandButton value="#{principal.btnIngresar}" action="#{userBean.validarUsuario}" 
							name="enviar" id="enviar" /></td>
							<td><p:commandButton value="#{principal.btnRegresar}" action="inicio" immediate="true" /></td>
						</tr>
						
						<tr>
						<td>
							<h:commandLink value="¿Olvido su contraseña?" action="olvidoContraseña" style="color:#85C1E9">
							</h:commandLink>
						</td>
						</tr>
					</table>
				</td></tr>
			</table>
			
			<p:dialog id="tbl" header="Parametro" widgetVar="parameter" modal="true"
			height="100%" showEffect="explode" hideEffect="bounce">
			
			<p:outputLabel>Su contraseña se ha enviado a su correo</p:outputLabel>
			
			</p:dialog>
			
		</h:form>

	</h:body>
</f:view>
</html>